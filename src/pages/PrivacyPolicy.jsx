import "./PrivacyPolicy.css";

const privacyPolicyData = [
  {
    title: "Introduction",
    items: [
      "We are committed to safeguarding the privacy of our website visitors",
      "This policy applies where we are acting as a data controller with respect to the personal data of our website visitors and service users; in other words, where we determine the purposes and means of the processing of that personal data.",
      "We will ask you to consent to our use of cookies in accordance with the terms of this policy when you first visit our website.",
      "Our website incorporates privacy controls which affect how we will process your personal data. By using the privacy controls, you can [specify whether you would like to receive direct marketing communications and limit the publication of your information]. You can access the privacy controls via the cookie consent bar.",
      "In this policy, “we”, “us” and “our” refer to SoBold [For more information about us, see Section 13.]",
    ],
  },
  {
    title: "Credit",
    items: [
      "This document was created using a template from SEQ Legal (https://seqlegal.com).",
    ],
  },
  {
    title: "How we use your personal data",
    items: [
      {
        text: "In this Section 3 we have set out:",
        subItems: [
          "the general categories of personal data that we may process;",
          "[in the case of personal data that we did not obtain directly from you, the source and specific categories of that data];",
          "the purposes for which we may process personal data; and",
          "the legal bases of the processing.",
        ],
      },
      "We may process data about your use of our website and services (“usage data“). The usage data may include your IP address, geographical location, browser type and version, operating system, referral source, length of visit, page views and website navigation paths, as well as information about the timing, frequency and pattern of your service use. The source of the usage data is our analytics tracking system. This usage data may be processed [for the purposes of analysing the use of the website and services. The legal basis for this processing is monitoring and improving our website and services.",
      "We may process your account data (“account data“). The account data may include your name and email address. The source of the account data is you or your employer. The account data may be processed for the purposes of operating our website, providing our services, ensuring the security of our website and services, maintaining back-ups of our databases and communicating with you. The legal basis for this processing is our legitimate interests, namely the proper administration of our website and business.",
      "We may process your information included in your personal profile on our website (“profile data“). The profile data may include your name, address, telephone number, email address, profile pictures, gender, date of birth, relationship status, interests and hobbies, educational details and employment details. The profile data may be processed for the purposes of enabling and monitoring your use of our website and services. The legal basis for this processing is the performance of a contract between you and us.",
      "We may process your personal data that are provided in the course of the use of our services (“service data“). The source of the service data is you or your employer. The service data may be processed [for the purposes of operating our website, providing our services, ensuring the security of our website and services, maintaining back-ups of our databases and communicating with you. The legal basis for this processing is our legitimate interests, namely the proper administration of our website and business.",
      "We may process information that you post for publication on our website or through our services (“publication data“). The publication data may be processed for the purposes of enabling such publication and administering our website and services. The legal basis for this processing is namely the proper administration of our website and business.",
      "We may process information contained in any enquiry you submit to us regarding goods and/or services (“enquiry data“). The enquiry data may be processed for the purposes of offering, marketing and selling relevant goods and/or services to you. The legal basis for this processing is consent.",
      "We may process information relating to transactions, including purchases of goods and services, that you enter into with us and/or through our website (“transaction data“). The transaction data may include your contact details, your card details and the transaction details. The transaction data may be processed for the purpose of supplying the purchased goods and services and keeping proper records of those transactions. The legal basis for this processing is the performance of a contract between you and us and/or taking steps, at your request, to enter into such a contract and our legitimate interests, namely our interest in the proper administration of our website and business.",
      "We may process information that you provide to us for the purpose of subscribing to our email notifications and/or newsletters (“notification data“). The notification data may be processed for the purposes of sending you the relevant notifications and/or newsletters. The legal basis for this processing is the performance of a contract between you and us and/or taking steps, at your request, to enter into such a contract.",
      "We may process information contained in or relating to any communication that you send to us (“correspondence data“). The correspondence data may include the communication content and metadata associated with the communication. Our website will generate the metadata associated with communications made using the website contact forms. The correspondence data may be processed for the purposes of communicating with you and record-keeping. The legal basis for this processing is our legitimate interests, namely the proper administration of our website and business and communications with users.",
      "We may process any of your personal data identified in this policy where necessary for the establishment, exercise or defence of legal claims, whether in court proceedings or in an administrative or out-of-court procedure. The legal basis for this processing is our legitimate interests, namely [the protection and assertion of our legal rights, your legal rights and the legal rights of others.",
      "We may process any of your personal data identified in this policy where necessary for the purposes of obtaining or maintaining insurance coverage, managing risks, or obtaining professional advice. The legal basis for this processing is our legitimate interests, namely the proper protection of our business against risks.",
      "In addition to the specific purposes for which we may process your personal data set out in this Section 3, we may also process [any of your personal data] where such processing is necessary for compliance with a legal obligation to which we are subject, or in order to protect your vital interests or the vital interests of another natural person.",
      "Please do not supply any other person’s personal data to us, unless we prompt you to do so.",
    ],
  },
  {
    title: "Providing your personal data to others",
    items: [
      "We may disclose your personal data to any member of our group of companies (this means our subsidiaries, our ultimate holding company and all its subsidiaries) insofar as reasonably necessary for the purposes, and on the legal bases, set out in this policy.",
      "We may disclose your personal data to our insurers and/or professional advisers insofar as reasonably necessary for the purposes of obtaining or maintaining insurance coverage, managing risks, obtaining professional advice, or the establishment, exercise or defence of legal claims, whether in court proceedings or in an administrative or out-of-court procedure.",
    ],
  },
  {
    title: "International transfers of your personal data",
    items: [
      "In this Section 5, we provide information about the circumstances in which your personal data may be transferred to countries outside the European Economic Area (EEA).",
      "You acknowledge that personal data that you submit for publication through our website or services may be available, via the internet, around the world. We cannot prevent the use (or misuse) of such personal data by others.",
    ],
  },
  {
    title: "Retaining and deleting personal data",
    items: [
      "This Section 6 sets out our data retention policies and procedure, which are designed to help ensure that we comply with our legal obligations in relation to the retention and deletion of personal data.",
      "Personal data that we process for any purpose or purposes shall not be kept for longer than is necessary for that purpose or those purposes.",
      "In some cases it is not possible for us to specify in advance the periods for which your personal data will be retained.",
      "Notwithstanding the other provisions of this Section 6, we may retain your personal data where such retention is necessary for compliance with a legal obligation to which we are subject, or in order to protect your vital interests or the vital interests of another natural person.",
    ],
  },
  {
    title: "Amendments",
    items: [
      "We may update this policy from time to time by publishing a new version on our website.",
      "You should check this page occasionally to ensure you are happy with any changes to this policy.",
      "We may notify you of changes to this policy by email or through the private messaging system on our website.",
    ],
  },
  {
    title: "Your rights",
    items: [
      {
        text: "You may instruct us to provide you with any personal information we hold about you; provision of such information will be subject to:",
        subItems: [
          "the supply of appropriate evidence of your identity (for this purpose, we will usually accept a photocopy of your passport certified by a solicitor or bank plus an original copy of a utility bill showing your current address).",
        ],
      },
      "We may withhold personal information that you request to the extent permitted by law.",
      "You may instruct us at any time not to process your personal information for marketing purposes.",
      "In practice, you will usually either expressly agree in advance to our use of your personal information for marketing purposes, or we will provide you with an opportunity to opt out of the use of your personal information for marketing purposes.",
    ],
  },
  {
    title: "About cookies",
    items: [
      "A cookie is a file containing an identifier (a string of letters and numbers) that is sent by a web server to a web browser and is stored by the browser. The identifier is then sent back to the server each time the browser requests a page from the server.",
      "Cookies may be either “persistent” cookies or “session” cookies: a persistent cookie will be stored by a web browser and will remain valid until its set expiry date, unless deleted by the user before the expiry date; a session cookie, on the other hand, will expire at the end of the user session, when the web browser is closed.",
      "Cookies do not typically contain any information that personally identifies a user, but personal information that we store about you may be linked to the information stored in and obtained from cookies.",
    ],
  },
  {
    title: "Cookies that we use",
    items: [
      {
        text: "We use cookies for the following purposes:",
        subItems: [
          "authentication – we use cookies to identify you when you visit our website and as you navigate our website",
          "status – we use cookies to help us to determine if you are logged into our website",
          "personalisation – we use cookies to store information about your preferences and to personalise the website for you",
          "security – we use cookies as an element of the security measures used to protect user accounts, including preventing fraudulent use of login credentials, and to protect our website and services generally.",
          "advertising – we use cookies to help us to display advertisements that will be relevant to you.",
          "analysis – we use cookies to help us to analyse the use and performance of our website and services.",
          "cookie consent – we use cookies to store your preferences in relation to the use of cookies more generally",
        ],
      },
    ],
  },
  {
    title: "Cookies used by our service providers",
    items: [
      "Our service providers use cookies and those cookies may be stored on your computer when you visit our website.",
      "We use Google Analytics to analyse the use of our website. Google Analytics gathers information about website use by means of cookies. The information gathered relating to our website is used to create reports about the use of our website. You can refer to Google’s privacy policy.",
    ],
  },
  {
    title: "Managing cookies",
    items: [
      {
        text: "Most browsers allow you to refuse to accept cookies and to delete cookies. The methods for doing so vary from browser to browser, and from version to version. You can however obtain up-to-date information about blocking and deleting cookies via these links:",
        subItems: [
          "https://support.google.com/chrome/answer/95647?hl=en (Chrome);",
          "https://support.mozilla.org/en-US/kb/websites-say-cookies-are-blocked-unblock-them (Firefox);",
          "http://www.opera.com/help/tutorials/security/cookies/ (Opera);",
          "https://support.microsoft.com/en-gb/help/17442/windows-internetexplorer-delete-manage-cookies (Internet Explorer);",
          "https://support.apple.com/en-gb/guide/safari/sfri11471/mac (Safari);",
          "https://support.microsoft.com/en-us/windows/microsoft-edge-browsing-data-and-privacy-bb8174ba-9d73-dcf2-9b4a-c582b4e640dd (Edge).",
        ],
      },
      "Blocking all cookies will have a negative impact upon the usability of many websites.",
      "If you block cookies, you will not be able to use all the features on our website.",
    ],
  },
  {
    title: "Our details",
    items: [
      "This website is owned and operated by SoBold Limited",
      "We are registered in England and Wales under registration number 08949874, and our registered office is at 215-221 Borough High Street, London, SE1 1JA.",
      "Our principal place of business is at 215-221 Borough High Street, London, SE1 1JA.",
      {
        text: "You can contact us:",
        subItems: [
          "by post, to the postal address given above;",
          "using our website contact form;",
          "by telephone, on the contact number published on our website from time to time",
          "by email, using hello@soboldltd.com",
        ],
      },
    ],
  },
  {
    title: "Data protection officer",
    items: [
      "Our data protection officer’s contact details are: Sam Phillips, sam@soboldltd.com.",
    ],
  },
];

const renderFormattedText = (text) => {
  if (typeof text !== "string") return text;

  const regex =
    /(https?:\/\/[^\s]+)|(\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}\b)|(\+?\d[\d\s-]{7,}\d)/gi;

  const parts = text.split(regex);

  return parts.map((part, index) => {
    if (!part) return null;

    // URL
    if (part.match(/^https?:\/\//i)) {
      return (
        <a
          key={index}
          href={part}
          target="_blank"
          rel="noopener noreferrer"
          className="policy-link"
        >
          {part}
        </a>
      );
    }

    // Email
    if (part.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i)) {
      return (
        <a key={index} href={`mailto:${part}`} className="policy-link">
          {part}
        </a>
      );
    }

    // Phone
    if (part.match(/^\+?\d[\d\s-]{7,}\d$/)) {
      return (
        <a
          key={index}
          href={`tel:${part.replace(/\s/g, "")}`}
          className="policy-link"
        >
          {part}
        </a>
      );
    }

    return part;
  });
};

function PrivacyPolicy() {
  return (
    <div className="privacy-wrapper">
      <div className="privacy-header">
        <h1 className="policy-main-title">Privacy Policy</h1>
        <p className="last-updated">Last updated on 08/04/2025 by SoBold</p>
      </div>

      {privacyPolicyData.map((section, sectionIndex) => {
        const sectionNumber = sectionIndex + 1;

        return (
          <div key={sectionIndex} className="policy-section">
            <h2 className="section-title">
              <span>{sectionNumber}.</span>
              <span>{section.title}</span>
            </h2>

            {section.items.map((item, itemIndex) => {
              const itemNumber = `${sectionNumber}.${itemIndex + 1}`;

              // STRING ITEM
              if (typeof item === "string") {
                return (
                  <p key={itemIndex} className="policy-row">
                    <strong>{itemNumber}</strong>
                    <span>{item}</span>
                  </p>
                );
              }

              // OBJECT ITEM WITH SUBITEMS
              return (
                <div key={itemIndex} className="policy-sub-block">
                  {/* Main Item */}
                  <div className="policy-row">
                    <span className="policy-number">{itemNumber}</span>
                    <span className="policy-content">
                      {renderFormattedText(item.text)}
                    </span>
                  </div>

                  {/* Sub Items */}
                  {item.subItems &&
                    item.subItems.map((subItem, subIndex) => {
                      const subNumber = `${itemNumber}.${subIndex + 1}`;

                      return (
                        <div key={subIndex} className="policy-row sub">
                          <span className="policy-number">{subNumber}</span>
                          <span className="policy-content">
                            {renderFormattedText(subItem)}
                          </span>
                        </div>
                      );
                    })}
                </div>
              );
            })}
          </div>
        );
      })}
      <div className="legal-footer">
        <p>
          This Privacy Policy is derived from the original SoBold website
          policy. The structure and legal content were referenced for
          educational purposes.
        </p>
      </div>
    </div>
  );
}

export default PrivacyPolicy;
